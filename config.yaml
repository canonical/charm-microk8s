options:
  channel:
    type: string
    default: "auto"
    description: |
      Snap channel to install MicroK8s from. Use 'auto' to use the channel the snap defaults to.
  addons:
    description: A space-separated list of addons that should be enabled.
    type: string
    default: dns ingress
  containerd_env:
    description: >
      Contents of the containerd-env file.
    type: string
    default: |
      # This file is managed by Juju. Manual changes may be lost at any time.

      # Configure limits for locked memory and maximum number of open files
      ulimit -n 65536 || true
      ulimit -l 16384 || true

      # Uncomment to configure a proxy for containerd
      # HTTP_PROXY=http://squid.internal:3128
      # HTTPS_PROXY=http://squid.internal:3128
      # NO_PROXY=10.0.0.0/8,127.0.0.0/16,192.168.0.0/16

  coredns_config:
    description: The CoreDNS configuration.  If you're running on a restricted network, you may wish to change the forwaders.
    type: string
    default: |
      # This file is managed by Juju. Manual changes may be lost at any time.

      .:53 {
          errors
          health {
            lameduck 5s
          }
          ready
          log . {
            class error
          }
          kubernetes cluster.local in-addr.arpa ip6.arpa {
            pods insecure
            fallthrough in-addr.arpa ip6.arpa
          }
          prometheus :9153
          forward . 8.8.8.8 8.8.4.4
          cache 30
          loop
          reload
          loadbalance
      }

  manage_etc_hosts:
    description: >
      When set, add node IPs to /etc/hosts. Use this if the substrate does not provide DNS.
    type: boolean
    default: false
